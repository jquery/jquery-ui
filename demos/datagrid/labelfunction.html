<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>jQuery UI Datagrid - Label Function</title>
	<link rel="stylesheet" href="../../themes/base/all.css">
	<script src="../../jquery.js"></script>
	<script src="../../external/jquery.mousewheel.js"></script>
	<script src="../../ui/core.js"></script>
	<script src="../../ui/widget.js"></script>
	<script src="../../ui/datagrid.js"></script>
	<link rel="stylesheet" href="../demos.css">
	
	<style>
		tr.datagrid-row:hover {
			background-color:#efefef;
			cursor:default;
		}
	</style>
	<script>
	
	function formatJavaCalendar(dtt) {
		
		this.formatLength = function(str, len) {
			var strx = "0000000"+str;
			return strx.substring(strx.length - len, strx.length);
		}
		if(dtt.startDate)
			return (this.formatLength(dtt.startDate.dayOfMonth, 2) + "/" + this.formatLength((Number(dtt.startDate.month)+1), 2) + "/" + dtt.startDate.year);
		else return "";
	}
	
	var columns = [	
		{label : "ID", 		field : "uid", 			width:10},
		{label : "USER", 	field : "createdBy", 	width:15},
		{label : "NAME", 	field : "name", 		width:40},
		{label : "ISSUE", 	field : "pm", 			width:20},
		{label : "DATE", 	field : "startDate", 	width:15, 	labelFunction:formatJavaCalendar},
	];
	
	function renderDatagrid(dataProvider) {
	
		$( "#demo" ).datagrid({
			dataProvider: dataProvider,
			columns: columns,
		});
		
	}
	
	$(function() {
		$.ajax({url: "data.json", dataType: "json", success: renderDatagrid, error: function() {alert("GET_DATA_ERROR")}});
	});
	
	</script>
</head>
<body>

<div id="demo" style="height:300px;">

</div>
</body>
</html>
