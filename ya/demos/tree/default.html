<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame 
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <title>default</title>
  <meta name="description" content="" />
  <meta name="author" content="13" />
  <link rel="stylesheet" href="../../themes/base.css" />
	<link rel="stylesheet" href="../../jqui/css/jquery-ui.css" />
	<link rel="stylesheet" href="../../themes/default/jquery.ui.tree.css">
	<script src="../../jqui/js/jquery.min.js"></script>
  	<script src="../../jqui/js/jquery-ui.min.js"></script>
  	
	<script src="../../external/jquery.tmpl.min.js"></script>
	<script src="../../ui/jquery.ya.tree0.js"></script>
  	<script>
  		jQuery(function($){
  			var citydata = [{
			     "text": "国内",
			     "expanded": true,
			     "children":[{
			         "text": "河南省"
			     }, {
			         "text": "广东省"
			     }, {
			         "text": "陕西省"
			     }, {
			         "text": "福建省"
			     },{
			         "text": "广西"
			     }, {
			         "text": "北京"
			     }]
			 }, {
			     "text": "国外",
			     "expanded": true,
			     "children":[{
			         "text":"澳大利亚",
			         "expanded": true,
			         "children":[{
			         	"text": "test"
			         }]
			     },{
			         "text":"印度"
			     },{
			         "text":"日本"
			     }]
			 }];
  			 $("#navtree").tree0({
                dataSource : citydata,
                showCheckbox: true,	//显示checkbox
                onSelect: function(nodedata){

                }

            });
            var target = $('#navtree').tree0("findNode", "text", "test","",true);
            var parentNodes=$("#navtree").tree0('getParents',target);
  			console.dir(parentNodes);
  			//清空所有节点
  			$('#navtree').tree0("removeAll");
  			//装入国内树
  			$('#navtree').tree0("setData",[citydata[0]]);
  			$('#navtree').tree0("refresh");

  			$('#get-all-checked').click(function(){
  				var nodes=$('#navtree').tree0("getChecked",true);
  				var nodesWidthPart=$('#navtree').tree0("getChecked",true,true);
  				console.dir(nodes);
  				console.dir(nodesWidthPart);
  			});
  		});
  	</script>
  
</head>

<body>
  <ul id="navtree"></ul>
  <button id="get-all-checked" type="button">获得所有选中的节点</button>
</body>
</html>
