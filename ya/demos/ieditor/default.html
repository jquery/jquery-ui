<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame 
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <title>default</title>
  <meta name="description" content="" />
  <meta name="author" content="13" />

  <link rel="stylesheet" href="../../themes/base.css" />
	<link rel="stylesheet" href="../../lib/sl.css" />
	<link rel="stylesheet" href="../../jqui/css/jquery-ui.css" />
	<link rel="stylesheet" href="../../themes/default/jquery.ui.override.css" />
	<link rel="stylesheet" href="../../themes/default/jquery.ui.theme.css" />
	<link rel="stylesheet" href="../../themes/default/jquery.ui.datepicker.css" />
	<link rel="stylesheet" href="../../themes/default/jquery.ui.ieditor.css" />
	<style type="text/css">
		.editor-wrapper{
			position:absolute;
			top:130px;
			left:130px;
			width:600px;
		}
		.edit-wrapper{
		    margin-bottom: 30px;
		    border:1px solid #cccccc;
		    padding:10px;
		}
		.edit-combo-wrapper .edit-text{
		    
		}
		.edit-combo-wrapper .ui-ieditor-actions{
		    
		}
		.edit-combo-wrapper .ui-combo{
		    float:left;
		}
		
	</style>
	
	<script src="../../jqui/js/jquery.min.js"></script>
  	<script src="../../jqui/js/jquery-ui.min.js"></script>
  	
  	<script src="../../external/underscore-min.js"></script>
  	<script src="../../external/underscore.string.min.js"></script>
 	<script src="../../external/modernizr.js"></script>
 	
	
  	<script src="../../core.js"></script>
  	<script src="../../lib/regx.js"></script>
  	<script src="../../lib/sl.js"></script>
  	<script src="../../lib/uihelper.js"></script>
  	
  	<script src="../../ui/jquery.ya.button0.js"></script>
  	<script src="../../ui/jquery.ya.theme0.js"></script>
  	<script src="../../ui/jquery.ya.datepicker0.js"></script>
	<script src="../../ui/jquery.ya.ieditor0.js"></script>
	<script>
	jQuery(function($) {
		$( ".edit-text0" ).ieditor0({
			advancedTheme:{
				shadow:false,
				corner:false
			},
			handlerSelector:'.edit-h'		
		});
		$( ".edit-text1" ).ieditor0({
			advancedTheme:{
				shadow:false,
				corner:false
			}		
		});
		$( ".edit-text2" ).ieditor0({
			editType:'textfield',
			themeType:1		
		});
		$( ".edit-text3" ).ieditor0({
            editType:'combo',
            selectValues:[{
                value:'1',
                label:'一'
            },{
                value:'2',
                label:'二'
            },{
                value:'3',
                label:'三'
            },{
                value:'4',
                label:'四'
            }],
            themeType:1,
            handlerSelector:'.edit-h-2',
            buttonHandler:{  //针对themeType==1的按钮调用句柄配置
                /**
                 * @param {Jquery} element 被编辑domJq
                 * @param {Jquery} editInputJq 编辑器包裹domJq
                 */
                saveHandler:function(element,editJq){
                    var editInputJq=$('.ui-ieditor-input',editJq);  //编辑器domJq
                    //做ajax请求，请求成功后保存
                    //$.ajax();
                    element.text('自定义值').data('value','customvalue').attr('val','customvalue').show();
                    editJq.hide();
                    //显示编辑按钮
                    $('.edit-h-2').show();
                },    //点击成功按钮的调用句柄
                cancelHandler:null//点击取消按钮的调用句柄
            } 
        });
        $( ".edit-text4" ).ieditor0({
            dateFormat:'yy-mm-dd',
        });
        $( ".edit-text5" ).ieditor0({
            selectValues:[{
                value:true,
                label:'男'
            },{
                value:false,
                label:'女'
            }],
            handlerSelector:'.edit-h-3'
        });
        
        //rest
        $('.reset-h').click(function(){
            $('.edit-field').ieditor0('reset');
            return false;
        });
	});
	</script>
</head>

<body>
  <div class="editor-wrapper">
    <div class="edit-wrapper">
  	 <span><span class="edit-text0 edit-field" edittype="textfield">测试</span><a href="#" class="edit-h">编辑</a></span>
  	</div>
  	<div class="edit-wrapper">
  	 <span class="edit-text1 edit-field" edittype="textarea">测试测试测试</span>
  	</div>
  	<div class="edit-wrapper">
  	<span class="edit-text2 edit-field">测试测试测试测试测试测试</span>
  	</div>
  	<div class="edit-wrapper edit-combo-wrapper">
  	<div class="edit-text"><span class="edit-text3 edit-field" val="2">二</span><a href="#" class="edit-h-2">编辑</a></div>
  	</div>
  	<div class="edit-wrapper">
  	 <span class="edit-text4 edit-field" edittype="datepicker">2012-01-01</span>
  	</div>
  	<div class="edit-wrapper">
     <span class="edit-text5 edit-field" edittype="singlecheckbox">男</span><a href="#" class="edit-h-3">编辑</a>
    </div>
  </div>
  <div class="actions"><button class="reset-h">reset</button></div>
</body>
</html>

