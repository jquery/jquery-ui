<!doctype html>
<html>
<head>
	<title>Menu Visual Test: Default</title>
	<link rel="stylesheet" href="../visual.css" type="text/css" />
	<link rel="stylesheet" href="../../../themes/base/jquery.ui.all.css" type="text/css" title="ui-theme" />
	<script type="text/javascript" src="../../../jquery-1.5.1.js"></script>
	<script type="text/javascript" src="../../../ui/jquery.ui.core.js"></script>
	<script type="text/javascript" src="../../../ui/jquery.ui.widget.js"></script>
	<script type="text/javascript" src="../../../ui/jquery.ui.position.js"></script>
	<script type="text/javascript" src="../../../ui/jquery.ui.menu.js"></script>
	<!--
	<script type="text/javascript" src="http://jqueryui.com/themeroller/themeswitchertool/"></script>
	-->
	<script type="text/javascript">
	$(function() {
		$.fn.themeswitcher && $('<div/>').css({
			position: "absolute",
			right: 10,
			top: 10
		}).appendTo(document.body).themeswitcher();
		
		// TODO close other menus when opening a new one
		$("button").each(function() {
			$(this).next().menu({
				/* top-alignment
				position: function(item) {
					return {
						my: "left top",
						at: "right top",
						of: item.parent()
					}
				},
				*/
				select: function(event, ui) {
					$(this).hide().prev().focus();
					$("#log").append("<div>Selected " + ui.item.text() + "</div>");
				}
			}).hide();
			
			// equal height
			//menu.find("ul").height(menu.height());
		}).click(function(event) {
			// required to prevent the click handler below from handling this event
			event.stopPropagation();
			var menu = $("#menu" + this.id).menu("blur").show().position({
				my: "left top",
				at: "right top",
				of: event.pageX > 0 ? event : this
			}).focus();
			$(document).one("click", function() {
				menu.menu("closeAll").menu("widget").hide();
			})
		}).next().keydown(function(event) {
			var menu = $(this).data("menu");
			if (menu.widget().is(":hidden"))
				return;
			event.stopPropagation();
			switch (event.keyCode) {
			case $.ui.keyCode.TAB:
				menu.closeAll();
				menu.widget().hide();
				$(this).prev().focus()
				break;
			case $.ui.keyCode.ESCAPE:
				menu.closeAll();
				menu.widget().hide();
				$(this).prev().focus()
				break;
			default:
				
			}
		});
	});
	</script>
	<style>
		body { font-size:62.5%; }
		.ui-menu { width: 200px; position: absolute; }
		#menu3 { height: 200px; overflow: auto; }
	</style>
</head>
<body>
	
<button id="1">Show context menu 1</button>
<ul id="menu1">
	<li><a href="#">Amsterdam</a></li>
	<li><a href="#">Anaheim</a></li>
	<li><a href="#">Cologne</a></li>
	<li><a href="#">Frankfurt</a></li>
	<li><a href="#">Magdeburg</a></li>
	<li><a href="#">Munich</a></li>
	<li><a href="#">Utrecht</a></li>
	<li><a href="#">Zurich</a></li>
</ul>

<button id="2">Show context menu 2</button>
<ul id="menu2">
	<li>
		<a id="a1" href="#">Amsterdam</a>
		<ul>
			<li><a id="b1" href="#">Aberdeen</a></li>
			<li><a id="b2" href="#">Ada</a></li>
			<li>
				<a href="#">Adamsville</a>
				<ul>
					<li><a href="#">Anaheim</a></li>
					<li>
						<a href="#">Cologne</a>
						<ul>
							<li><a href="#">Mberdeen</a></li>
							<li><a href="#">Mda</a></li>
							<li><a href="#">Mdamsville</a></li>
							<li><a href="#">Mddyston</a></li>
							<li><a href="#">Mmesville</a></li>
						</ul>
					</li>
					<li><a href="#">Frankfurt</a></li>
				</ul>
			</li>
			<li><a href="#">Addyston</a></li>
			<li><a href="#">Amesville</a></li>
		</ul>
	</li>
	<li><a id="a2" href="#">Anaheim</a></li>
	<li><a id="a3" href="#">Cologne</a></li>
	<li><a href="#">Frankfurt</a></li>
	<li>
		<a href="#">Magdeburg</a>
		<ul>
			<li><a href="#">Mberdeen</a></li>
			<li><a href="#">Mda</a></li>
			<li><a href="#">Mdamsville</a></li>
			<li><a href="#">Mddyston</a></li>
			<li><a href="#">Mmesville</a></li>
		</ul>
	</li>
	<li><a href="#">Munich</a></li>
	<li><a href="#">Utrecht</a></li>
	<li><a href="#">Zurich</a></li>
</ul>


<div class="ui-widget" style="margin-top:2em; font-family:Arial">
	Log:
	<div id="log" style="height: 400px; width: 300px; overflow: auto;" class="ui-widget-content"></div>
</div>

<button id="3">Show context menu 3</button>
<ul id="menu3">
	<li><a href="#">Aberdeen</a></li>
	<li><a href="#">Ada</a></li>
	<li><a href="#">Adamsville</a></li>
	<li><a href="#">Addyston</a></li>
	<li><a href="#">Adelphi</a></li>
	<li><a href="#">Adena</a></li>
	<li><a href="#">Adrian</a></li>
	<li><a href="#">Akron</a></li>
	<li><a href="#">Albany</a></li>
	<li><a href="#">Alexandria</a></li>
	<li><a href="#">Alger</a></li>
	<li><a href="#">Alledonia</a></li>
	<li><a href="#">Alliance</a></li>
	<li><a href="#">Alpha</a></li>
	<li><a href="#">Alvada</a></li>
	<li><a href="#">Alvordton</a></li>
	<li><a href="#">Amanda</a></li>
	<li><a href="#">Amelia</a></li>
	<li><a href="#">Amesville</a></li>
	<li><a href="#">Aberdeen</a></li>
	<li><a href="#">Ada</a></li>
	<li><a href="#">Adamsville</a></li>
	<li><a href="#">Addyston</a></li>
	<li><a href="#">Adelphi</a></li>
	<li><a href="#">Adena</a></li>
	<li><a href="#">Adrian</a></li>
	<li><a href="#">Akron</a></li>
	<li><a href="#">Albany</a></li>
	<li><a href="#">Alexandria</a></li>
	<li><a href="#">Alger</a></li>
	<li><a href="#">Alledonia</a></li>
	<li><a href="#">Alliance</a></li>
	<li><a href="#">Alpha</a></li>
	<li><a href="#">Alvada</a></li>
	<li><a href="#">Alvordton</a></li>
	<li><a href="#">Amanda</a></li>
	<li><a href="#">Amelia</a></li>
	<li><a href="#">Amesville</a></li>
</ul>

</body>
</html>
